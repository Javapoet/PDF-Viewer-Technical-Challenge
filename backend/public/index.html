<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>PDF Pager Demo</title>
        <link rel="stylesheet" href="/css/styles.css" />
        <!--
            Load PDF.js from backend-served static path.
            Instead, let the `/js/app.js` load the PDF library as an ESM module: `import * as pdfjsLib from '/static/pdfjs/pdf.min.mjs'`
        -->
        <!--
        <script defer src="/static/pdfjs/pdf.min.mjs"></script>
        <script defer src="/js/app.js"></script>
        -->
        <script type="module" src="/js/app.js"></script>
    </head>
    <body>
        <main class="container">

            <header>
                <h1>PDF Page Viewer</h1>
                <p class="sub">Large-PDF viewer</p>
            </header>

            <section>
                <ul>
                    <li><a href="index-V1.html">index-V1.html</a> (Loads the entire PDF at once)</li>
                    <li><a href="index-V2.html">index-V2.html</a> (Loads one page at a time but innefficiently and with no caching)</li>
                    <li><a href="index-V3.html">index-V3.html</a> (Loads one page at a time but efficiently and with caching)</li>
                </ul>
            </section>

            <footer>
                <h2>PDF Libraries Used</h2>

                <h3>pdf-lib</h3>
                <p>
                    <strong>pdf-lib</strong> lets the server slice the big document into tiny, cacheable, one-page PDFs → great TTFP and CDN hits.
                </p>
                <ul>
                    <li><a href="https://pdf-lib.js.org/">https://pdf-lib.js.org/</a></li>
                    <li><a href="https://www.npmjs.com/package/pdf-lib">https://www.npmjs.com/package/pdf-lib</a></li>
                    <li><a href="https://github.com/Hopding/pdf-lib/">https://github.com/Hopding/pdf-lib/</a></li>
                    <li>Manipulate/build PDFs (server-side tool).</li>
                    <li>Compute pageCount.</li>
                    <li>Extract a single page: copyPages → build a tiny one-page PDF for /api/pdf/page/:n.</li>
                    <li>Output bytes you can cache by ETag and serve fast.</li>
                    <li>Doesn’t render visuals; it edits/creates PDFs.</li>
                </ul>

                <h3>pdfjs-dist (PDF.js)</h3>
                <p>
                    <strong>pdfjs-dist</strong> lets the browser draw each of those pages smoothly without blocking the UI (thanks to its Web Worker).
                </p>
                <ul>
                    <li><a href="https://mozilla.github.io/pdf.js/">https://mozilla.github.io/pdf.js/</a></li>
                    <li><a href="https://www.npmjs.com/package/pdfjs-dist">https://www.npmjs.com/package/pdfjs-dist</a></li>
                    <li><a href="https://github.com/mozilla/pdfjs-dist">https://github.com/mozilla/pdfjs-dist</a></li>
                    <li>Render/view PDFs (browser viewer engine).</li>
                    <li>Parse+render a PDF in the browser (worker thread) onto a &lt;canvas&gt;.</li>
                    <li>We call pdfjsLib.getDocument({ url }) and then page.render(...).</li>
                    <li>Doesn’t edit PDFs; it’s a viewer/renderer.</li>
                    <li>PDF Library: <a href="/static/pdfjs/pdf.worker.min.mjs">/static/pdfjs/pdf.min.mjs</a></li>
                    <li>PDF Worker Library: <a href="/static/pdfjs/pdf.worker.min.mjs">/static/pdfjs/pdf.worker.min.mjs</a></li>
                </ul>
            </footer>
        </main>
    </body>
</html>
